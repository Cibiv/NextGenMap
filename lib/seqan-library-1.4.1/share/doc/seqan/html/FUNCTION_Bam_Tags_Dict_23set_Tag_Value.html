<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><link rel="stylesheet" href="dddoc_html.css" type="text/css" /><title>setTagValue</title></head><body><table id=main_table cellspacing=0 cellpadding=0><tr><td valign=top><iframe frameborder=0 id=navigation src="INDEX_Function_B_A_M+_I_2f_O.html#BamTagsDict#setTagValue"></iframe></td><td valign=top><div id=content><div class=page_category>Function</div><div class=page_title>setTagValue</div><div id=summary><div class=text>Set the value of a tag through a <a href="CLASS_Bam_Tags_Dict.html" title="Indexes start positions of BAM tags in a Shortcut.CharString and provides a dict-like API." >BamTagsDict</a>.</div></div><div class=section id=signature><div class=signature_block><nobr><span class=code><nobr>setTagValue(tags,&nbsp;key,&nbsp;val[,&nbsp;typeC])</nobr></span></nobr></div></div><div class=section id=include><div class=section_headline>Include Headers</div><div class=text_block>seqan/bam_io.h</div></div><div class=section id=param><div class=section_headline>Parameters</div><table class=value_tab cellspacing=0 cellpadding=0><tr><td class=value_key valign=top><nobr>tags</nobr></td><td class=value_text valign=top><div class=text_sub_block> The dict to modify.</div><div class=text_sub_block><span class=section_sub_headline>Types:</span>  <a href="CLASS_Bam_Tags_Dict.html" title="Indexes start positions of BAM tags in a Shortcut.CharString and provides a dict-like API." >BamTagsDict</a></div></td></tr><tr><td class=value_key valign=top><nobr>key</nobr></td><td class=value_text valign=top><div class=text_sub_block> The key of the tag.</div><div class=text_sub_block><span class=section_sub_headline>Types:</span>  <a href="SHORTCUT_Char_String.html" title="A string of char." >CharString</a></div><div class=text_sub_block><span class=section_sub_headline>Remarks:</span> Must be a string of length 2.</div></td></tr><tr><td class=value_key valign=top><nobr>val</nobr></td><td class=value_text valign=top><div class=text_sub_block> The value to set the the tag to.</div></td></tr><tr><td class=value_key valign=top><nobr>typeC</nobr></td><td class=value_text valign=top><div class=text_sub_block> BAM type char to use.</div><div class=text_sub_block><span class=section_sub_headline>Types:</span>  By default, the type is inflected using <a href="FUNCTION.get_Bam_Type_Char.html" title="Return char identifying the type of the atomic argument." >getBamTypeChar</a>.</div><div class=text_sub_block><span class=section_sub_headline>Remarks:</span> For portability (so the generated files are the same on all platforms), use a signed/unsigned qualified type for <span class=code><nobr>val</nobr></span> or give <span class=code><nobr>typeC</nobr></span>. Also see the remarks for <a href="FUNCTION.get_Bam_Type_Char.html" title="Return char identifying the type of the atomic argument." >getBamTypeChar</a>.</div></td></tr></table></div><div class=section id=remarks><div class=section_headline>Remarks</div><div class=text_block><div class=text_sub_block> Note that <span class=code><nobr>setTagValue</nobr></span> does not cast the type, so <span class=code><nobr>typeC</nobr></span> only influences the type character written out but <span class=code><nobr>val</nobr></span> is written out in binary without modification.</div></div></div><div class=section id=returns><div class=section_headline>Return Values</div><div class=text_block><div class=text_sub_block> <span class=code><nobr>bool</nobr></span> indicating the success. This function can fail if the key is not a valid tag id (e.g. does not have length 2) or if the type of <span class=code><nobr>val</nobr></span> is not an atomic value or a string (anything but <span class=code><nobr>char&nbsp;*</nobr></span>, <span class=code><nobr>char&nbsp;const&nbsp;*</nobr></span>, a character, integer or float type is invalid).</div></div></div><div class="section" id="class"><div class="section_headline">Member of</div><div class="text_block"><span class="link_text"><a href="CLASS_Bam_Tags_Dict.html" title="Indexes start positions of BAM tags in a Shortcut.CharString and provides a dict-like API." >BamTagsDict</a></span></div></div><div class=section id=example><div class=section_headline>Examples</div><div class=text_block><div class=text_sub_block> An example setting some atomic tag values.</div><div class=code_sub_block><span class=code><nobr>CharString&nbsp;rawTagsText;<br >BamTagsDict&nbsp;tags(rawTagsText);<br >setTagValue(tags,&nbsp;"XA",&nbsp;9);&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;int<br >setTagValue(tags,&nbsp;"XB",&nbsp;9u);&nbsp;&nbsp;&nbsp;//&nbsp;unsigned&nbsp;int<br >setTagValue(tags,&nbsp;"XC",&nbsp;'X');&nbsp;&nbsp;//&nbsp;char</nobr></span></div><div class=text_sub_block> If <span class=code><nobr>char</nobr></span> is equal to <span class=code><nobr>__int8</nobr></span> or <span class=code><nobr>__uint8</nobr></span> then the last line produces an entry with type 'c' or 'C'. To make sure that the type char 'A' (for "printable character") is written to the file, give it explicitely:</div><div class=code_sub_block><span class=code><nobr>setTagValue(tags,&nbsp;"XC",&nbsp;'X',&nbsp;'A');&nbsp;&nbsp;//&nbsp;Overrwrite&nbsp;XC,&nbsp;enforce&nbsp;type&nbsp;'printable&nbsp;character'.</nobr></span></div><div class=text_sub_block> Note that on most systems <span class=code><nobr>int</nobr></span>s have a width of 32 bytes, but the C++ standard leaves this open. For all types but characters, you should not give an explicit type char but use one of the types with explicit width and signed/unsigned qualifier such as <span class=code><nobr>__int32</nobr></span>, <span class=code><nobr>__uint32</nobr></span> etc.</div><div class=code_sub_block><span class=code><nobr>//&nbsp;The&nbsp;following&nbsp;is&nbsp;not&nbsp;recommended&nbsp;since&nbsp;the&nbsp;type&nbsp;of&nbsp;$x$&nbsp;is&nbsp;not&nbsp;"unsigned&nbsp;32&nbsp;bit&nbsp;int."<br >__int32&nbsp;x&nbsp;=&nbsp;-1;<br >setTagValue(tags,&nbsp;"XB",&nbsp;x,&nbsp;'I');<br >//&nbsp;Instead,&nbsp;explicitely&nbsp;use&nbsp;an&nbsp;unsigned&nbsp;type&nbsp;if&nbsp;you&nbsp;need&nbsp;one.&nbsp;&nbsp;Note&nbsp;that&nbsp;your&nbsp;compiler<br >//&nbsp;might&nbsp;warn&nbsp;you&nbsp;about&nbsp;assigning&nbsp;-1&nbsp;to&nbsp;an&nbsp;unsigned&nbsp;variable&nbsp;so&nbsp;you&nbsp;know&nbsp;that&nbsp;you&nbsp;are<br >//&nbsp;probably&nbsp;doing&nbsp;something&nbsp;unintended.<br >__uint32&nbsp;y&nbsp;=&nbsp;-1;<br >setTagValue(tags,&nbsp;"XB",&nbsp;y);<br >&nbsp;<br >//&nbsp;Do&nbsp;not&nbsp;do&nbsp;this!<br >setTagValue(tags,&nbsp;"XA",&nbsp;9,&nbsp;'f');&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;BOGUS&nbsp;since&nbsp;9&nbsp;is&nbsp;not&nbsp;a&nbsp;floating&nbsp;point&nbsp;number.</nobr></span></div></div></div><div class="section" id="see"><div class="section_headline">See Also</div><div class="text_block"><span class="link_text"><a href="FUNCTION.get_Bam_Type_Char.html" title="Return char identifying the type of the atomic argument." >getBamTypeChar</a></span></div></div><div class=page_footline>SeqAn - Sequence Analysis Library - <a href="http://www.seqan.de">www.seqan.de</a></div><div id=page_widthblock>&nbsp;</div></div></td></tr></table><p style="font-size:50%; color: #909090">Page built @2013/07/11 10:43:56</p></body></html>